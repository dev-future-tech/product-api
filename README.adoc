= Product API
Anthony Ikeda <anthony.ikeda@gmail.com>
Version 0.0.1

== Updates

Added TestContainers for testing


== To do
Add liquibase to test harness ✅
Add liquibase deployment step
Make Liquibase deployment targetable
Create unit tests against TC database ✅
Setup AWS deployment strategy (terraform? cloud formation?)
Test minimal viable configuration for the service

Basic Environment - Non Containerized

* Security:
    ** Service accounts
    ** ?
* EC2 instances (configure scale)
* RDS database
* Load Balancer / API Gateway
* Networking
    ** VPC (configure, default VPC used if not set)
    ** Subnet
    ** HA not configured by default (optional)
* Monitoring (cloud watch or custom. perhaps set up basic monitoring tools and connect to that?)


Basic Environment - Containerized Minimal

* Security:
    ** Service accounts
    ** ?
* ECS instances
* Container registry
* RDS database
* Load Balancer / API Gateway
* Networking
    ** VPC (configure, default VPC used if not set)
    ** Subnet
    ** HA not configured by default (optional)
* Monitoring (cloud watch or custom. perhaps set up basic monitoring tools and connect to that?)

== Notes

Looks the terraform github actions requires terraform cloud, so for this example we
will default to CloudFormation

=== CloudFormation Requirements

* [ ] IAM Policy that allows the user to:
** [ ] Create an RDS instance
** [ ] Create a single EC2 instance
* [ ] Ability to create an RDS instance (PostgreSQL)
* [ ] Ability to spin up an EC2 instance with
** [ ] Java 17
** [ ] Env vars for the spring datasource
        - `spring.datasource.url`
        - `spring.datasource.username`
        - `spring.datasource.password`
        - `spring.liquibase.change-log=classpath:db/database-changelog.yml`
** [ ] Memory Requirements: `-Xmx32m -Xss256k`
